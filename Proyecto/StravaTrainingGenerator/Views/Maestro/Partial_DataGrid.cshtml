@using Kendo.Mvc.UI
@model StoneMVCCore.Models.Samples.Maestro.Partial_DataGrid

<script>
    function onDataBound(e) {
        var grid = $("#Grid").data("GridMaestro");
    }

    function onChange(e) {

        @*grid = e.sender;

        var redirectUrl = '@Url.Action("DetalleCliente", "Clientes")';
        var currentDataItem = grid.dataItem(this.select());
        var cdUser = currentDataItem.cdUser;

        redirectUrl += "?cdUser=" + cdUser;

        window.location.href = redirectUrl;*@

    }


</script>

@(Html.Kendo().Grid(Model.datasource)
        .Name("GridMaestro")
        .Columns(columns =>
        {
            columns.Bound(model => model.id).Title("ID").Filterable(ftb => ftb.Cell(cell => cell.Operator("contains").SuggestionOperator(FilterType.Contains)));
            columns.Bound(model => model.param1).Title("Parametro 1").Filterable(ftb => ftb.Cell(cell => cell.Operator("contains").SuggestionOperator(FilterType.Contains)));
            columns.Bound(model => model.param2).Title("Parametro 2").Filterable(ftb => ftb.Cell(cell => cell.Operator("contains").SuggestionOperator(FilterType.Contains)));
            columns.Bound(model => model.param3).Title("Parametro 3").Filterable(ftb => ftb.Cell(cell => cell.Operator("contains").SuggestionOperator(FilterType.Contains)));
            columns.Bound(model => model.param4).Title("Parametro 4").Filterable(ftb => ftb.Cell(cell => cell.Operator("contains").SuggestionOperator(FilterType.Contains)));
        })
        .Events(events => events.Change("onChange"))
        .Filterable(ftb => ftb.Mode(GridFilterMode.Row))
        .Selectable(selectable => selectable
            .Mode(GridSelectionMode.Single))
        //.PersistSelection(true)
        .Pageable(pageable => pageable
            .Input(true)
            .Numeric(false))
        .Sortable()
        .Resizable(resizable => resizable
            .Columns(true))
        .DataSource(datatasource => datatasource
            .Ajax()
            .ServerOperation(false)
            .PageSize(20))
)